<HTML>
<HEAD>
<meta charset="UTF-8">
<title>HttpLogger - cjlog</title>
<link rel="stylesheet" href="../../../style.css">
</HEAD>
<BODY>
<a href="../../index.html">cjlog</a>&nbsp;/&nbsp;<a href="../index.html">com.controlj.logging</a>&nbsp;/&nbsp;<a href="./index.html">HttpLogger</a><br/>
<br/>
<h1>HttpLogger</h1>
<code><span class="keyword">class </span><span class="identifier">HttpLogger</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="../-destination/index.html"><span class="identifier">Destination</span></a></code>
<p>Log data to a web server. Set the property SYSLOGGER to change the destination. Data is logged using HEAD
calls with the message and other information in the query string.
The transmission of data to the remote server is carried out on a dedicated <a href="https://docs.oracle.com/javase/6/docs/api/java/lang/Thread.html">Thread</a>.</p>
<h3>Parameters</h3>
<p><a name="onFail"></a>
<code>onFail</code> - A lambda to be called if connection to the destination fails.</p>
<h3>Constructors</h3>
<table>
<tbody>
<tr>
<td>
<p><a href="-init-.html">&lt;init&gt;</a></p>
</td>
<td>
<code><span class="identifier">HttpLogger</span><span class="symbol">(</span><span class="identifier" id="com.controlj.logging.HttpLogger$<init>(kotlin.Function0((kotlin.Unit)))/onFail">onFail</span><span class="symbol">:</span>&nbsp;<span class="symbol">(</span><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a>&nbsp;<span class="symbol">=</span>&nbsp;{}<span class="symbol">)</span></code>
<p>Log data to a web server. Set the property SYSLOGGER to change the destination. Data is logged using HEAD
calls with the message and other information in the query string.
The transmission of data to the remote server is carried out on a dedicated <a href="https://docs.oracle.com/javase/6/docs/api/java/lang/Thread.html">Thread</a>.</p>
</td>
</tr>
</tbody>
</table>
<h3>Inherited Properties</h3>
<table>
<tbody>
<tr>
<td>
<p><a href="../-destination/previous-logfiles.html">previousLogfiles</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">val </span><span class="identifier">previousLogfiles</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html"><span class="identifier">List</span></a><span class="symbol">&lt;</span><a href="https://docs.oracle.com/javase/6/docs/api/java/io/File.html"><span class="identifier">File</span></a><span class="symbol">&gt;</span><span class="symbol">?</span></code>
<p>Retrieve a list of files for previous logs. Returns null if the destination does not support this.</p>
</td>
</tr>
</tbody>
</table>
<h3>Functions</h3>
<table>
<tbody>
<tr>
<td>
<p><a href="close.html">close</a></p>
</td>
<td>
<code><span class="keyword">fun </span><span class="identifier">close</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code>
<p>Terminate the logger</p>
</td>
</tr>
<tr>
<td>
<p><a href="send-log.html">sendLog</a></p>
</td>
<td>
<code><span class="keyword">fun </span><span class="identifier">sendLog</span><span class="symbol">(</span><span class="identifier" id="com.controlj.logging.HttpLogger$sendLog(java.net.URL)/url">url</span><span class="symbol">:</span>&nbsp;<a href="https://docs.oracle.com/javase/6/docs/api/java/net/URL.html"><span class="identifier">URL</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html"><span class="identifier">Boolean</span></a></code>
<p>Actually send the log to the destination <a href="send-log.html#com.controlj.logging.HttpLogger$sendLog(java.net.URL)/url">url</a>.</p>
</td>
</tr>
<tr>
<td>
<p><a href="send-message.html">sendMessage</a></p>
</td>
<td>
<code><span class="keyword">fun </span><span class="identifier">sendMessage</span><span class="symbol">(</span><span class="identifier" id="com.controlj.logging.HttpLogger$sendMessage(kotlin.String, kotlin.String)/deviceID">deviceID</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a><span class="symbol">, </span><span class="identifier" id="com.controlj.logging.HttpLogger$sendMessage(kotlin.String, kotlin.String)/message">message</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code>
<p>Send a log message to the destination. This is the only mandatory method to be implemented.</p>
</td>
</tr>
</tbody>
</table>
<h3>Inherited Functions</h3>
<table>
<tbody>
<tr>
<td>
<p><a href="../-destination/retrieve-messages.html">retrieveMessages</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">retrieveMessages</span><span class="symbol">(</span><span class="identifier" id="com.controlj.logging.Destination$retrieveMessages(kotlin.Int)/limit">limit</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html"><span class="identifier">Int</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a><span class="symbol">?</span></code>
<p>Retrieve log messages previously sent to this destination.</p>
</td>
</tr>
</tbody>
</table>
<h3>Companion Object Properties</h3>
<table>
<tbody>
<tr>
<td>
<p><a href="-c-h-a-r-s-e-t-n-a-m-e.html">CHARSETNAME</a></p>
</td>
<td>
<code><span class="keyword">var </span><span class="identifier">CHARSETNAME</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a></code>
<p>The charset to use for URL encoding</p>
</td>
</tr>
<tr>
<td>
<p><a href="-c-o-n-n-e-c-t-i-o-n_-t-i-m-e-o-u-t.html">CONNECTION_TIMEOUT</a></p>
</td>
<td>
<code><span class="keyword">var </span><span class="identifier">CONNECTION_TIMEOUT</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html"><span class="identifier">Int</span></a></code>
<p>How long to wait for a connection to the server</p>
</td>
</tr>
<tr>
<td>
<p><a href="-m-a-x_-q-u-e-u-e.html">MAX_QUEUE</a></p>
</td>
<td>
<code><span class="keyword">var </span><span class="identifier">MAX_QUEUE</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html"><span class="identifier">Int</span></a></code>
<p>The maximum number of messages to queue</p>
</td>
</tr>
<tr>
<td>
<p><a href="-r-e-a-d_-t-i-m-e-o-u-t.html">READ_TIMEOUT</a></p>
</td>
<td>
<code><span class="keyword">var </span><span class="identifier">READ_TIMEOUT</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html"><span class="identifier">Int</span></a></code>
<p>How long to wait for a response from the server</p>
</td>
</tr>
<tr>
<td>
<p><a href="-s-y-s-l-o-g-g-e-r.html">SYSLOGGER</a></p>
</td>
<td>
<code><span class="keyword">var </span><span class="identifier">SYSLOGGER</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a></code>
<p>The destination to use.</p>
</td>
</tr>
</tbody>
</table>
</BODY>
</HTML>
